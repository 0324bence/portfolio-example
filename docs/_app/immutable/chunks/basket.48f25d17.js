import{w as v}from"./index.b4566d73.js";function E(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}var i={local:{},session:{}};function S(e){return e==="local"?localStorage:sessionStorage}function h(e,p,o){var f,g;const d=(f=o==null?void 0:o.serializer)!=null?f:JSON,s=(g=o==null?void 0:o.storage)!=null?g:"local",w=typeof window<"u"&&typeof document<"u",u=w?S(s):null;function b(l,a){u==null||u.setItem(l,d.stringify(a))}if(!i[s][e]){const l=v(p,n=>{const c=u==null?void 0:u.getItem(e);if(c&&n(d.parse(c)),w&&s=="local"){const t=r=>{r.key===e&&n(r.newValue?d.parse(r.newValue):null)};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)}}),{subscribe:a,set:m}=l;i[s][e]={set(n){b(e,n),m(n)},update(n){return l.update(c=>{const t=n(c);return b(e,t),t})},subscribe:a}}return i[s][e]}const I=h("basket",[]);export{I as b,E as e};
